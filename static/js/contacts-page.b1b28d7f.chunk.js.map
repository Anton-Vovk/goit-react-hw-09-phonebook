{"version":3,"sources":["components/ContactForm/ContactForm.module.css","components/ContactList/ContactList.module.css","components/Filter/Filter.module.css","pages/PhonebookPage/PhonebookPage.module.css","redux/phonebook/phonebook-selectors.js","components/ContactForm/ContactForm.jsx","redux/phonebook/phonebook-operations.js","components/ContactList/ContactList.jsx","components/Filter/Filter.jsx","pages/PhonebookPage/PhonebookPage.jsx"],"names":["module","exports","getLoading","state","phonebook","loading","getContacts","items","getFilter","filter","getFilteredContacts","createSelector","normalizedFilter","toLowerCase","contact","name","includes","ContactForm","myContacts","useSelector","dispatch","useDispatch","useState","number","setContact","handleContactChange","event","inputName","currentTarget","dataset","inputValue","value","prev","reset","className","styles","form","onSubmit","preventDefault","hasContactName","some","item","hasContactNumber","alert","a","addContactRequest","Axios","post","data","addContactSucces","addContactError","message","type","label","input","onChange","placeholder","data-name","required","pattern","button","autoClose","ContactList","contacts","listSection","map","id","onClick","deleteContactRequest","delete","deleteContactSucces","error","deleteContact","Filter","title","filterContacts","target","Phonebook","isLoading","useEffect","fetchContactsRequest","get","fetchContactsSucces","fetchContactsError","container","color","height","width"],"mappings":"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","file":"static/js/contacts-page.b1b28d7f.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"ContactForm_form__1ppRQ\",\"label\":\"ContactForm_label__3Hf0Q\",\"input\":\"ContactForm_input__3wfRb\",\"button\":\"ContactForm_button__1DASa\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"listSection\":\"ContactList_listSection__pz1W4\",\"item\":\"ContactList_item__wafQh\",\"button\":\"ContactList_button__38Twb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Filter_wrapper__34T7M\",\"input\":\"Filter_input__3TTLo\",\"title\":\"Filter_title__2C-iW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"PhonebookPage_container__3lil9\",\"phonebook\":\"PhonebookPage_phonebook__NuCEq\",\"contacts\":\"PhonebookPage_contacts__2qqwf\"};","import { createSelector } from '@reduxjs/toolkit';\r\n\r\nconst getLoading = state => state.phonebook.loading;\r\nconst getContacts = state => state.phonebook.items;\r\nconst getPhonebook = state => state.phonebook;\r\nconst getFilter = state => state.phonebook.filter;\r\n\r\nconst getFilteredContacts = createSelector(\r\n  [getContacts, getFilter],\r\n  (items, filter) => {\r\n    const normalizedFilter = filter.toLowerCase();\r\n    return items.filter(contact =>\r\n      contact.name.toLowerCase().includes(normalizedFilter),\r\n    );\r\n  },\r\n);\r\n\r\nexport {\r\n  getLoading,\r\n  getContacts,\r\n  getPhonebook,\r\n  getFilter,\r\n  getFilteredContacts,\r\n};\r\n","import React, { useState } from 'react';\r\nimport { ToastContainer } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport styles from './ContactForm.module.css';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { addContact } from '../../redux/phonebook/phonebook-operations';\r\nimport { getContacts } from '../../redux/phonebook/phonebook-selectors';\r\n\r\nfunction ContactForm() {\r\n  const myContacts = useSelector(getContacts);\r\n  const dispatch = useDispatch();\r\n  const [contact, setContact] = useState({\r\n    name: '',\r\n    number: '',\r\n  });\r\n\r\n  const handleContactChange = event => {\r\n    let inputName = event.currentTarget.dataset.name;\r\n    let inputValue = event.currentTarget.value;\r\n    setContact(prev => ({ ...prev, [inputName]: inputValue }));\r\n  };\r\n\r\n  const handleSubmit = event => {\r\n    event.preventDefault();\r\n\r\n    const hasContactName = myContacts.some(item => {\r\n      return item.name === contact.name;\r\n    });\r\n    const hasContactNumber = myContacts.some(item => {\r\n      return item.number === contact.number;\r\n    });\r\n\r\n    if (hasContactName) {\r\n      alert(`${contact.name} is already in contacts!!!`);\r\n      return;\r\n    }\r\n    if (hasContactNumber) {\r\n      alert(`${contact.number} is already in contacts!!!`);\r\n      return;\r\n    }\r\n\r\n    dispatch(addContact(contact.name, contact.number));\r\n    reset();\r\n  };\r\n\r\n  const reset = () => {\r\n    setContact({ name: '', number: '' });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <form className={styles.form} onSubmit={handleSubmit} type=\"submit\">\r\n        <label className={styles.label}>\r\n          Name\r\n          <input\r\n            className={styles.input}\r\n            name=\"name\"\r\n            type=\"text\"\r\n            value={contact.name}\r\n            onChange={handleContactChange}\r\n            placeholder=\"Add name\"\r\n            data-name=\"name\"\r\n            required\r\n          ></input>\r\n        </label>\r\n        <label className={styles.label}>\r\n          Number\r\n          <input\r\n            className={styles.input}\r\n            name=\"number\"\r\n            type=\"tel\"\r\n            value={contact.number}\r\n            onChange={handleContactChange}\r\n            pattern=\"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}\"\r\n            placeholder=\"111-11-11\"\r\n            data-name=\"number\"\r\n            required\r\n          ></input>\r\n        </label>\r\n        <button className={styles.button} type=\"submit\">\r\n          Add contact\r\n        </button>\r\n        <ToastContainer autoClose={3000} />\r\n      </form>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default ContactForm;\r\n","import Axios from 'axios';\r\nimport {\r\n  addContactRequest,\r\n  addContactSucces,\r\n  addContactError,\r\n  deleteContactRequest,\r\n  deleteContactSucces,\r\n  fetchContactsRequest,\r\n  fetchContactsSucces,\r\n  fetchContactsError,\r\n} from './phonebook-actions';\r\n\r\n// Axios.defaults.baseURL = 'https://goit-phonebook-api.herokuapp.com';\r\n\r\n//================ асинхронный вариант ===================\r\n\r\nconst fetchContacts = () => async dispatch => {\r\n  dispatch(fetchContactsRequest());\r\n\r\n  try {\r\n    const { data } = await Axios.get('/contacts');\r\n    dispatch(fetchContactsSucces(data));\r\n  } catch (error) {\r\n    dispatch(fetchContactsError(error.message));\r\n  }\r\n};\r\n//=========================================================\r\n\r\n// const fetchContacts = () => dispatch => {\r\n//   dispatch(fetchContactsRequest());\r\n\r\n//   Axios.get(`/contacts`)\r\n//     .then(({ data }) => dispatch(fetchContactsSucces(data)))\r\n//     .catch(error => dispatch(fetchContactsError(error)));\r\n// };\r\n\r\nconst addContact = (name, number) => async dispatch => {\r\n  const items = {\r\n    name,\r\n    number,\r\n  };\r\n\r\n  dispatch(addContactRequest());\r\n\r\n  try {\r\n    const { data } = await Axios.post('/contacts', items);\r\n    dispatch(addContactSucces(data));\r\n  } catch (error) {\r\n    dispatch(addContactError(error.message));\r\n  }\r\n};\r\n\r\n// const addContact = (name, number) => dispatch => {\r\n//   const items = {\r\n//     name,\r\n//     number,\r\n//   };\r\n\r\n//   dispatch(addContactRequest());\r\n\r\n//   Axios.post('/contacts', items)\r\n//     .then(({ data }) => dispatch(addContactSucces(data)))\r\n//     .catch(error => dispatch(addContactError(error)));\r\n// };\r\n\r\nconst deleteContact = id => async dispatch => {\r\n  dispatch(deleteContactRequest());\r\n\r\n  try {\r\n    Axios.delete(`/contacts/${id}`);\r\n\r\n    dispatch(deleteContactSucces(id));\r\n  } catch (error) {\r\n    dispatch(addContactError(error.message));\r\n  }\r\n};\r\n\r\n// const deleteContact = id => dispatch => {\r\n//   dispatch(deleteContactRequest());\r\n\r\n//   Axios.delete(`/contacts/${id}`)\r\n//     .then(() => dispatch(deleteContactSucces(id)))\r\n//     .catch(error => dispatch(deleteContactError(error)));\r\n// };\r\n\r\nexport { addContact, deleteContact, fetchContacts };\r\n","import React from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { deleteContact } from '../../redux/phonebook/phonebook-operations';\r\nimport { getFilteredContacts } from '../../redux/phonebook/phonebook-selectors';\r\nimport styles from './ContactList.module.css';\r\n\r\nconst ContactList = () => {\r\n  const contacts = useSelector(getFilteredContacts);\r\n  const dispatch = useDispatch();\r\n\r\n  return (\r\n    <div className={styles.listSection}>\r\n      <ul>\r\n        {contacts.map(({ id, name, number }) => (\r\n          <li className={styles.item} key={id}>\r\n            {name} - {number}\r\n            <button\r\n              className={styles.button}\r\n              type=\"button\"\r\n              onClick={() => dispatch(deleteContact(id))}\r\n            >\r\n              Delete\r\n            </button>\r\n          </li>\r\n        ))}\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ContactList;\r\n","import React from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { filterContacts } from '../../redux/phonebook/phonebook-actions';\r\nimport { getFilter } from '../../redux/phonebook/phonebook-selectors';\r\nimport styles from './Filter.module.css';\r\n\r\nconst Filter = () => {\r\n  const filter = useSelector(getFilter);\r\n  const dispatch = useDispatch();\r\n\r\n  return (\r\n    <>\r\n      <h4 className={styles.title}>Find contacts by name </h4>\r\n      <label className={styles.label}>\r\n        <input\r\n          className={styles.input}\r\n          name=\"filter\"\r\n          type=\"text\"\r\n          value={filter}\r\n          onChange={event => dispatch(filterContacts(event.target.value))}\r\n          placeholder=\"Search name\"\r\n        ></input>\r\n      </label>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Filter;\r\n","import React, { useEffect } from 'react';\r\nimport Loader from 'react-loader-spinner';\r\nimport ContactForm from '../../components/ContactForm';\r\nimport ContactList from '../../components/ContactList';\r\nimport Filter from '../../components/Filter';\r\nimport styles from './PhonebookPage.module.css';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { fetchContacts } from '../../redux/phonebook/phonebook-operations';\r\nimport { getLoading } from '../../redux/phonebook/phonebook-selectors';\r\n\r\nfunction Phonebook() {\r\n  const isLoading = useSelector(getLoading);\r\n  const dispatch = useDispatch();\r\n  useEffect(() => {\r\n    dispatch(fetchContacts());\r\n  }, [dispatch]);\r\n\r\n  return (\r\n    <div className={styles.container}>\r\n      <h1 className={styles.phonebook}>PHONEBOOK</h1>\r\n      <ContactForm />\r\n      <h2 className={styles.contacts}>CONTACTS</h2>\r\n      <Filter />\r\n\r\n      <ContactList />\r\n      {isLoading && (\r\n        <Loader type=\"Watch\" color=\"#1e99e0\" height={100} width={100} />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Phonebook;\r\n"],"sourceRoot":""}